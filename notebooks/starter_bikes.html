<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>starter_bikes – Jacob Walker - Data Science Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Images/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-4d9afe2b8d18ee9fa5d0d57b5ed4214d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-47a2569239650a328465399e13938bea.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-52a40c8f424a6d1e268fe027cedb2c07.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-47a2569239650a328465399e13938bea.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Jacob Walker - Data Science Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resume.html"> 
<span class="menu-text">My Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cleansing.html"> 
<span class="menu-text">Data Cleansing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../exploration.html"> 
<span class="menu-text">Data Exploration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../story_telling.html"> 
<span class="menu-text">Story Telling</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../ml.html"> 
<span class="menu-text">Machine Learning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../full_stack.html"> 
<span class="menu-text">Full Stack</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../competition.html"> 
<span class="menu-text">Competition</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#task" id="toc-task" class="nav-link active" data-scroll-target="#task">Task</a>
  <ul class="collapse">
  <li><a href="#calculate-total-riders" id="toc-calculate-total-riders" class="nav-link" data-scroll-target="#calculate-total-riders">Calculate Total Riders</a>
  <ul class="collapse">
  <li><a href="#subtask" id="toc-subtask" class="nav-link" data-scroll-target="#subtask">Subtask:</a></li>
  </ul></li>
  <li><a href="#create-combined-bar-and-line-chart" id="toc-create-combined-bar-and-line-chart" class="nav-link" data-scroll-target="#create-combined-bar-and-line-chart">Create Combined Bar and Line Chart</a>
  <ul class="collapse">
  <li><a href="#subtask-1" id="toc-subtask-1" class="nav-link" data-scroll-target="#subtask-1">Subtask:</a></li>
  </ul></li>
  <li><a href="#final-task" id="toc-final-task" class="nav-link" data-scroll-target="#final-task">Final Task</a>
  <ul class="collapse">
  <li><a href="#subtask-2" id="toc-subtask-2" class="nav-link" data-scroll-target="#subtask-2">Subtask:</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary:</a>
  <ul class="collapse">
  <li><a href="#qa" id="toc-qa" class="nav-link" data-scroll-target="#qa">Q&amp;A</a></li>
  <li><a href="#data-analysis-key-findings" id="toc-data-analysis-key-findings" class="nav-link" data-scroll-target="#data-analysis-key-findings">Data Analysis Key Findings</a></li>
  <li><a href="#insights-or-next-steps" id="toc-insights-or-next-steps" class="nav-link" data-scroll-target="#insights-or-next-steps">Insights or Next Steps</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#task-1" id="toc-task-1" class="nav-link" data-scroll-target="#task-1">Task</a>
  <ul class="collapse">
  <li><a href="#prepare-data-for-hourly-analysis" id="toc-prepare-data-for-hourly-analysis" class="nav-link" data-scroll-target="#prepare-data-for-hourly-analysis">Prepare Data for Hourly Analysis</a>
  <ul class="collapse">
  <li><a href="#subtask-3" id="toc-subtask-3" class="nav-link" data-scroll-target="#subtask-3">Subtask:</a></li>
  </ul></li>
  <li><a href="#aggregate-hourly-bike-usage" id="toc-aggregate-hourly-bike-usage" class="nav-link" data-scroll-target="#aggregate-hourly-bike-usage">Aggregate Hourly Bike Usage</a>
  <ul class="collapse">
  <li><a href="#subtask-4" id="toc-subtask-4" class="nav-link" data-scroll-target="#subtask-4">Subtask:</a></li>
  </ul></li>
  <li><a href="#generate-hourly-bike-usage-line-charts" id="toc-generate-hourly-bike-usage-line-charts" class="nav-link" data-scroll-target="#generate-hourly-bike-usage-line-charts">Generate Hourly Bike Usage Line Charts</a>
  <ul class="collapse">
  <li><a href="#subtask-5" id="toc-subtask-5" class="nav-link" data-scroll-target="#subtask-5">Subtask:</a></li>
  </ul></li>
  <li><a href="#summarize-hourly-bike-usage-trends" id="toc-summarize-hourly-bike-usage-trends" class="nav-link" data-scroll-target="#summarize-hourly-bike-usage-trends">Summarize Hourly Bike Usage Trends</a>
  <ul class="collapse">
  <li><a href="#subtask-6" id="toc-subtask-6" class="nav-link" data-scroll-target="#subtask-6">Subtask:</a></li>
  </ul></li>
  <li><a href="#summary-1" id="toc-summary-1" class="nav-link" data-scroll-target="#summary-1">Summary:</a>
  <ul class="collapse">
  <li><a href="#qa-1" id="toc-qa-1" class="nav-link" data-scroll-target="#qa-1">Q&amp;A</a></li>
  <li><a href="#data-analysis-key-findings-1" id="toc-data-analysis-key-findings-1" class="nav-link" data-scroll-target="#data-analysis-key-findings-1">Data Analysis Key Findings</a></li>
  <li><a href="#insights-or-next-steps-1" id="toc-insights-or-next-steps-1" class="nav-link" data-scroll-target="#insights-or-next-steps-1">Insights or Next Steps</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>





<div id="cell-0" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:423}}" data-outputid="287d4bf0-4b0a-433c-a980-1b366de1de18" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tensorflow <span class="im">as</span> tf</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow <span class="im">import</span> keras</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow.keras <span class="im">import</span> layers</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>bike <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bikes.csv'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>bike</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div id="df-68508333-25ea-40f9-9105-92565ba8a520" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">dteday</th>
<th data-quarto-table-cell-role="th">hr</th>
<th data-quarto-table-cell-role="th">casual</th>
<th data-quarto-table-cell-role="th">registered</th>
<th data-quarto-table-cell-role="th">temp_c</th>
<th data-quarto-table-cell-role="th">feels_like_c</th>
<th data-quarto-table-cell-role="th">hum</th>
<th data-quarto-table-cell-role="th">windspeed</th>
<th data-quarto-table-cell-role="th">weathersit</th>
<th data-quarto-table-cell-role="th">season</th>
<th data-quarto-table-cell-role="th">holiday</th>
<th data-quarto-table-cell-role="th">workingday</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>1/1/2011</td>
<td>0.0</td>
<td>3</td>
<td>13</td>
<td>3.0</td>
<td>3.0</td>
<td>0.7957</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>1/1/2011</td>
<td>1.0</td>
<td>8</td>
<td>30</td>
<td>1.7</td>
<td>1.7</td>
<td>0.8272</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>1/1/2011</td>
<td>2.0</td>
<td>5</td>
<td>26</td>
<td>1.9</td>
<td>1.9</td>
<td>0.8157</td>
<td>1.1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>1/1/2011</td>
<td>3.0</td>
<td>3</td>
<td>9</td>
<td>2.5</td>
<td>2.5</td>
<td>0.7831</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>1/1/2011</td>
<td>4.0</td>
<td>0</td>
<td>1</td>
<td>2.0</td>
<td>2.0</td>
<td>0.8075</td>
<td>1.1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">112470</th>
<td>10/31/2023</td>
<td>19.0</td>
<td>241</td>
<td>594</td>
<td>10.2</td>
<td>10.2</td>
<td>0.4516</td>
<td>8.4</td>
<td>2</td>
<td>4</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">112471</th>
<td>10/31/2023</td>
<td>20.0</td>
<td>171</td>
<td>450</td>
<td>8.9</td>
<td>7.5</td>
<td>0.5268</td>
<td>9.3</td>
<td>1</td>
<td>4</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">112472</th>
<td>10/31/2023</td>
<td>21.0</td>
<td>176</td>
<td>402</td>
<td>7.7</td>
<td>6.4</td>
<td>0.5756</td>
<td>7.8</td>
<td>1</td>
<td>4</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">112473</th>
<td>10/31/2023</td>
<td>22.0</td>
<td>106</td>
<td>257</td>
<td>8.0</td>
<td>8.0</td>
<td>0.5604</td>
<td>0.0</td>
<td>1</td>
<td>4</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">112474</th>
<td>10/31/2023</td>
<td>23.0</td>
<td>78</td>
<td>135</td>
<td>6.5</td>
<td>6.5</td>
<td>0.6401</td>
<td>4.5</td>
<td>1</td>
<td>4</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>112475 rows × 12 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-68508333-25ea-40f9-9105-92565ba8a520')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-68508333-25ea-40f9-9105-92565ba8a520 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-68508333-25ea-40f9-9105-92565ba8a520');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


  <div id="id_398cb0fa-8397-41de-8742-a583f1914b33">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('bike')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_398cb0fa-8397-41de-8742-a583f1914b33 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('bike');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-1" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="2995707b-1696-4477-bd31-ec6d7722fc40" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'dteday'</span>] <span class="op">=</span> pd.to_datetime(bike[<span class="st">'dteday'</span>])</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'date'</span>] <span class="op">=</span> bike[<span class="st">'dteday'</span>].dt.date</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># print(bike[['dteday', 'date']].head())</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'dteday'</span>] <span class="op">=</span> pd.to_datetime(bike[<span class="st">'dteday'</span>])</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'date'</span>] <span class="op">=</span> bike[<span class="st">'dteday'</span>].dt.date</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># print(bike[['dteday', 'date']].head())</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>bike <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bikes.csv'</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'dteday'</span>] <span class="op">=</span> pd.to_datetime(bike[<span class="st">'dteday'</span>])</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'date'</span>] <span class="op">=</span> bike[<span class="st">'dteday'</span>].dt.date</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># print(bike[['dteday', 'date']].head())</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>daily_bike_data <span class="op">=</span> bike.groupby(<span class="st">'date'</span>).agg(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    casual<span class="op">=</span>(<span class="st">'casual'</span>, <span class="st">'sum'</span>),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    registered<span class="op">=</span>(<span class="st">'registered'</span>, <span class="st">'sum'</span>),</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    temp_c<span class="op">=</span>(<span class="st">'temp_c'</span>, <span class="st">'mean'</span>),</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    feels_like_c<span class="op">=</span>(<span class="st">'feels_like_c'</span>, <span class="st">'mean'</span>),</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    hum<span class="op">=</span>(<span class="st">'hum'</span>, <span class="st">'mean'</span>),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    windspeed<span class="op">=</span>(<span class="st">'windspeed'</span>, <span class="st">'mean'</span>),</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    weathersit<span class="op">=</span>(<span class="st">'weathersit'</span>, <span class="st">'first'</span>),</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    season<span class="op">=</span>(<span class="st">'season'</span>, <span class="st">'first'</span>),</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    holiday<span class="op">=</span>(<span class="st">'holiday'</span>, <span class="st">'first'</span>),</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    workingday<span class="op">=</span>(<span class="st">'workingday'</span>, <span class="st">'first'</span>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>).reset_index()</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>daily_bike_data[<span class="st">'day_of_week'</span>] <span class="op">=</span> pd.to_datetime(daily_bike_data[<span class="st">'date'</span>]).dt.day_name()</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(daily_bike_data.head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         date  casual  registered    temp_c  feels_like_c       hum  \
0  2011-01-01     330         629  8.137500      7.970833  0.823567   
1  2011-01-02     130         651  9.204167      7.429167  0.704825   
2  2011-01-03     120        1181  0.558333     -3.729167  0.443213   
3  2011-01-04     107        1429  0.550000     -2.350000  0.603488   
4  2011-01-05      82        1489  2.237500     -0.891667  0.439533   

   windspeed  weathersit  season  holiday  workingday day_of_week  
0  10.754167           1       1        0           0    Saturday  
1  16.783333           2       1        0           0      Sunday  
2  16.750000           1       1        0           1      Monday  
3  10.095833           1       1        0           1     Tuesday  
4  12.700000           1       1        0           1   Wednesday  </code></pre>
</div>
</div>
<div id="cell-2" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}}" data-outputid="62e61f75-e3de-4e47-940b-d767cdfb646d" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>bike.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div id="df-0682b82a-f6f6-4bbe-a007-b3356ef3f2b2" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">dteday</th>
<th data-quarto-table-cell-role="th">hr</th>
<th data-quarto-table-cell-role="th">casual</th>
<th data-quarto-table-cell-role="th">registered</th>
<th data-quarto-table-cell-role="th">temp_c</th>
<th data-quarto-table-cell-role="th">feels_like_c</th>
<th data-quarto-table-cell-role="th">hum</th>
<th data-quarto-table-cell-role="th">windspeed</th>
<th data-quarto-table-cell-role="th">weathersit</th>
<th data-quarto-table-cell-role="th">season</th>
<th data-quarto-table-cell-role="th">holiday</th>
<th data-quarto-table-cell-role="th">workingday</th>
<th data-quarto-table-cell-role="th">date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>2011-01-01</td>
<td>0.0</td>
<td>3</td>
<td>13</td>
<td>3.0</td>
<td>3.0</td>
<td>0.7957</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>2011-01-01</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>2011-01-01</td>
<td>1.0</td>
<td>8</td>
<td>30</td>
<td>1.7</td>
<td>1.7</td>
<td>0.8272</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>2011-01-01</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>2011-01-01</td>
<td>2.0</td>
<td>5</td>
<td>26</td>
<td>1.9</td>
<td>1.9</td>
<td>0.8157</td>
<td>1.1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>2011-01-01</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>2011-01-01</td>
<td>3.0</td>
<td>3</td>
<td>9</td>
<td>2.5</td>
<td>2.5</td>
<td>0.7831</td>
<td>0.8</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>2011-01-01</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>2011-01-01</td>
<td>4.0</td>
<td>0</td>
<td>1</td>
<td>2.0</td>
<td>2.0</td>
<td>0.8075</td>
<td>1.1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>2011-01-01</td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-0682b82a-f6f6-4bbe-a007-b3356ef3f2b2')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-0682b82a-f6f6-4bbe-a007-b3356ef3f2b2 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-0682b82a-f6f6-4bbe-a007-b3356ef3f2b2');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div>
</div>
<div id="cell-5" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}}" data-outputid="edbb22c3-fb1a-4179-aa3d-df96dd34e63f" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by holiday and sum casual and registered bike usage</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage <span class="op">=</span> daily_bike_data.groupby(<span class="st">'holiday'</span>)[[<span class="st">'casual'</span>, <span class="st">'registered'</span>]].<span class="bu">sum</span>().reset_index()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total riders for each holiday category</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage[<span class="st">'total'</span>] <span class="op">=</span> holiday_bike_usage[<span class="st">'casual'</span>] <span class="op">+</span> holiday_bike_usage[<span class="st">'registered'</span>]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage[<span class="st">'casual_proportion'</span>] <span class="op">=</span> holiday_bike_usage[<span class="st">'casual'</span>] <span class="op">/</span> holiday_bike_usage[<span class="st">'total'</span>]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage[<span class="st">'registered_proportion'</span>] <span class="op">=</span> holiday_bike_usage[<span class="st">'registered'</span>] <span class="op">/</span> holiday_bike_usage[<span class="st">'total'</span>]</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the DataFrame for easier plotting with seaborn, now with proportions</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage_melted <span class="op">=</span> holiday_bike_usage.melt(id_vars<span class="op">=</span><span class="st">'holiday'</span>, value_vars<span class="op">=</span>[<span class="st">'casual_proportion'</span>, <span class="st">'registered_proportion'</span>], var_name<span class="op">=</span><span class="st">'user_type'</span>, value_name<span class="op">=</span><span class="st">'proportion_of_riders'</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename user_type for better legend labels</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>holiday_bike_usage_melted[<span class="st">'user_type'</span>] <span class="op">=</span> holiday_bike_usage_melted[<span class="st">'user_type'</span>].replace({</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'casual_proportion'</span>: <span class="st">'Casual Riders'</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'registered_proportion'</span>: <span class="st">'Registered Riders'</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">'holiday'</span>, y<span class="op">=</span><span class="st">'proportion_of_riders'</span>, hue<span class="op">=</span><span class="st">'user_type'</span>, data<span class="op">=</span>holiday_bike_usage_melted, palette<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the plot</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Proportion of Bike Usage: Regular Days vs. Holidays'</span>)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Day Type (0 = Regular Day, 1 = Holiday)'</span>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion of Riders'</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>plt.xticks(ticks<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>], labels<span class="op">=</span>[<span class="st">'Regular Day'</span>, <span class="st">'Holiday'</span>])</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'User Type'</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">'y'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="starter_bikes_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This bar chart visually compares the total number of casual and registered bike riders on regular days versus holidays. You can see how the usage patterns differ between these two categories.</p>
<section id="task" class="level1">
<h1>Task</h1>
<p>Add a ‘total_riders’ column to the <code>daily_bike_data</code> DataFrame by summing ‘casual’ and ‘registered’ users, then create a combined bar and line chart showing daily total riders as bars, with overlaid lines for casual and registered users, and finally summarize the observed trends in bike usage.</p>
<section id="calculate-total-riders" class="level2">
<h2 class="anchored" data-anchor-id="calculate-total-riders">Calculate Total Riders</h2>
<section id="subtask" class="level3">
<h3 class="anchored" data-anchor-id="subtask">Subtask:</h3>
<p>Add a ‘total_riders’ column to the <code>daily_bike_data</code> DataFrame by summing the ‘casual’ and ‘registered’ columns. This will be used for the bar chart.</p>
<p><strong>Reasoning</strong>: To complete the subtask, I will add a new column ‘total_riders’ to the <code>daily_bike_data</code> DataFrame by summing the ‘casual’ and ‘registered’ columns. Then, I will display the head of the DataFrame to verify the new column.</p>
<div id="cell-11" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="0d6a0574-20b3-43d7-c4af-a1030f81f7ed" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>daily_bike_data[<span class="st">'total_riders'</span>] <span class="op">=</span> daily_bike_data[<span class="st">'casual'</span>] <span class="op">+</span> daily_bike_data[<span class="st">'registered'</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(daily_bike_data.head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         date  casual  registered    temp_c  feels_like_c       hum  \
0  2011-01-01     330         629  8.137500      7.970833  0.823567   
1  2011-01-02     130         651  9.204167      7.429167  0.704825   
2  2011-01-03     120        1181  0.558333     -3.729167  0.443213   
3  2011-01-04     107        1429  0.550000     -2.350000  0.603488   
4  2011-01-05      82        1489  2.237500     -0.891667  0.439533   

   windspeed  weathersit  season  holiday  workingday day_of_week  \
0  10.754167           1       1        0           0    Saturday   
1  16.783333           2       1        0           0      Sunday   
2  16.750000           1       1        0           1      Monday   
3  10.095833           1       1        0           1     Tuesday   
4  12.700000           1       1        0           1   Wednesday   

   total_riders  
0           959  
1           781  
2          1301  
3          1536  
4          1571  </code></pre>
</div>
</div>
</section>
</section>
<section id="create-combined-bar-and-line-chart" class="level2">
<h2 class="anchored" data-anchor-id="create-combined-bar-and-line-chart">Create Combined Bar and Line Chart</h2>
<section id="subtask-1" class="level3">
<h3 class="anchored" data-anchor-id="subtask-1">Subtask:</h3>
<p>Generate a plot where bars represent the ‘total_riders’ from <code>daily_bike_data</code> for each day, and overlaid lines show the ‘casual’ users (green) and ‘registered’ users (blue) over the same period. Ensure proper labeling for axes and a title for the chart.</p>
<p><strong>Reasoning</strong>: I need to generate a combined bar and line chart as described in the subtask. This involves creating a bar plot for total riders and overlaying line plots for casual and registered riders on a secondary y-axis. I will use <code>matplotlib.pyplot</code> and <code>seaborn</code> to achieve this, ensuring all labels, titles, and legends are correctly placed.</p>
<div id="cell-14" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}}" data-outputid="a2b9c412-b26b-41c6-9bcd-149527d33287" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure 'date' column is in datetime format for proper plotting</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>daily_bike_data[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(daily_bike_data[<span class="st">'date'</span>])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and a set of subplots</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>fig, ax1 <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot total_riders as a bar chart on ax1</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'total_riders'</span>, data<span class="op">=</span>daily_bike_data, color<span class="op">=</span><span class="st">'#cccccc'</span>, ax<span class="op">=</span>ax1, label<span class="op">=</span><span class="st">'Total Riders'</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a second y-axis that shares the same x-axis as ax1</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> ax1.twinx()</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot casual riders as a green line on ax2</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>ax2.plot(daily_bike_data[<span class="st">'date'</span>], daily_bike_data[<span class="st">'casual'</span>], color<span class="op">=</span><span class="st">'green'</span>, label<span class="op">=</span><span class="st">'Casual Riders'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot registered riders as a blue line on ax2</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>ax2.plot(daily_bike_data[<span class="st">'date'</span>], daily_bike_data[<span class="st">'registered'</span>], color<span class="op">=</span><span class="st">'blue'</span>, label<span class="op">=</span><span class="st">'Registered Riders'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the title of the chart</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Daily Bike Usage: Total, Casual, and Registered Riders'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Set x-axis label for ax1</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'Date'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Set y-axis label for ax1</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">'Total Riders'</span>, color<span class="op">=</span><span class="st">'#cccccc'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>ax1.tick_params(axis<span class="op">=</span><span class="st">'y'</span>, labelcolor<span class="op">=</span><span class="st">'#cccccc'</span>)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Set y-axis label for ax2</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'Number of Casual/Registered Riders'</span>, color<span class="op">=</span><span class="st">'black'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine legends from both axes</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>handles1, labels1 <span class="op">=</span> ax1.get_legend_handles_labels()</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>handles2, labels2 <span class="op">=</span> ax2.get_legend_handles_labels()</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>ax2.legend(handles1 <span class="op">+</span> handles2, labels1 <span class="op">+</span> labels2, loc<span class="op">=</span><span class="st">'upper left'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate x-axis labels if they overlap to improve readability</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>fig.autofmt_xdate()</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Add grid for better readability</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>ax1.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">/tmp/ipython-input-4158710144.py</span> in <span class="ansi-cyan-fg">&lt;cell line: 0&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg ansi-bold">     15</span> 
<span class="ansi-green-fg ansi-bold">     16</span> <span class="ansi-red-fg"># Plot casual riders as a green line on ax2</span>
<span class="ansi-green-fg">---&gt; 17</span><span class="ansi-red-fg"> </span>ax2<span class="ansi-blue-fg">.</span>plot<span class="ansi-blue-fg">(</span>daily_bike_data<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'date'</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> daily_bike_data<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'casual'</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> color<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">'green'</span><span class="ansi-blue-fg">,</span> label<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">'Casual Riders'</span><span class="ansi-blue-fg">,</span> linewidth<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">     18</span> 
<span class="ansi-green-fg ansi-bold">     19</span> <span class="ansi-red-fg"># Plot registered riders as a blue line on ax2</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/axes/_axes.py</span> in <span class="ansi-cyan-fg">plot</span><span class="ansi-blue-fg">(self, scalex, scaley, data, *args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">   1775</span>         """
<span class="ansi-green-fg ansi-bold">   1776</span>         kwargs <span class="ansi-blue-fg">=</span> cbook<span class="ansi-blue-fg">.</span>normalize_kwargs<span class="ansi-blue-fg">(</span>kwargs<span class="ansi-blue-fg">,</span> mlines<span class="ansi-blue-fg">.</span>Line2D<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1777</span><span class="ansi-red-fg">         </span>lines <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">*</span>self<span class="ansi-blue-fg">.</span>_get_lines<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> data<span class="ansi-blue-fg">=</span>data<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg ansi-bold">   1778</span>         <span class="ansi-green-fg">for</span> line <span class="ansi-green-fg">in</span> lines<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg ansi-bold">   1779</span>             self<span class="ansi-blue-fg">.</span>add_line<span class="ansi-blue-fg">(</span>line<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/axes/_base.py</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, axes, data, return_kwargs, *args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">    295</span>                 this <span class="ansi-blue-fg">+=</span> args<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg ansi-bold">    296</span>                 args <span class="ansi-blue-fg">=</span> args<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">--&gt; 297</span><span class="ansi-red-fg">             yield from self._plot_args(
</span><span class="ansi-green-fg ansi-bold">    298</span>                 axes<span class="ansi-blue-fg">,</span> this<span class="ansi-blue-fg">,</span> kwargs<span class="ansi-blue-fg">,</span> ambiguous_fmt_datakey<span class="ansi-blue-fg">=</span>ambiguous_fmt_datakey<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg ansi-bold">    299</span>                 return_kwargs<span class="ansi-blue-fg">=</span>return_kwargs

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/axes/_base.py</span> in <span class="ansi-cyan-fg">_plot_args</span><span class="ansi-blue-fg">(self, axes, tup, kwargs, return_kwargs, ambiguous_fmt_datakey)</span>
<span class="ansi-green-fg ansi-bold">    487</span> 
<span class="ansi-green-fg ansi-bold">    488</span>         <span class="ansi-green-fg">if</span> axes<span class="ansi-blue-fg">.</span>xaxis <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 489</span><span class="ansi-red-fg">             </span>axes<span class="ansi-blue-fg">.</span>xaxis<span class="ansi-blue-fg">.</span>update_units<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">    490</span>         <span class="ansi-green-fg">if</span> axes<span class="ansi-blue-fg">.</span>yaxis <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg ansi-bold">    491</span>             axes<span class="ansi-blue-fg">.</span>yaxis<span class="ansi-blue-fg">.</span>update_units<span class="ansi-blue-fg">(</span>y<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">update_units</span><span class="ansi-blue-fg">(self, data)</span>
<span class="ansi-green-fg ansi-bold">   1768</span> 
<span class="ansi-green-fg ansi-bold">   1769</span>         <span class="ansi-green-fg">elif</span> neednew<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 1770</span><span class="ansi-red-fg">             </span>self<span class="ansi-blue-fg">.</span>_update_axisinfo<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1771</span>         self<span class="ansi-blue-fg">.</span>stale <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">True</span>
<span class="ansi-green-fg ansi-bold">   1772</span>         <span class="ansi-green-fg">return</span> <span class="ansi-green-fg">True</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">_update_axisinfo</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-fg ansi-bold">   1780</span>             <span class="ansi-green-fg">return</span>
<span class="ansi-green-fg ansi-bold">   1781</span> 
<span class="ansi-green-fg">-&gt; 1782</span><span class="ansi-red-fg">         </span>info <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_converter<span class="ansi-blue-fg">.</span>axisinfo<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>units<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1783</span> 
<span class="ansi-green-fg ansi-bold">   1784</span>         <span class="ansi-green-fg">if</span> info <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/dates.py</span> in <span class="ansi-cyan-fg">axisinfo</span><span class="ansi-blue-fg">(self, *args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">   1826</span> 
<span class="ansi-green-fg ansi-bold">   1827</span>     <span class="ansi-green-fg">def</span> axisinfo<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 1828</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_get_converter<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>axisinfo<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1829</span> 
<span class="ansi-green-fg ansi-bold">   1830</span>     <span class="ansi-green-fg">def</span> default_units<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/dates.py</span> in <span class="ansi-cyan-fg">axisinfo</span><span class="ansi-blue-fg">(self, unit, axis)</span>
<span class="ansi-green-fg ansi-bold">   1743</span>         tz <span class="ansi-blue-fg">=</span> unit
<span class="ansi-green-fg ansi-bold">   1744</span> 
<span class="ansi-green-fg">-&gt; 1745</span><span class="ansi-red-fg">         majloc = AutoDateLocator(tz=tz,
</span><span class="ansi-green-fg ansi-bold">   1746</span>                                  interval_multiples=self._interval_multiples)
<span class="ansi-green-fg ansi-bold">   1747</span>         majfmt <span class="ansi-blue-fg">=</span> AutoDateFormatter<span class="ansi-blue-fg">(</span>majloc<span class="ansi-blue-fg">,</span> tz<span class="ansi-blue-fg">=</span>tz<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/dates.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, tz, minticks, maxticks, interval_multiples)</span>
<span class="ansi-green-fg ansi-bold">   1277</span>             at <span class="ansi-cyan-fg">6</span> hour intervals<span class="ansi-blue-fg">.</span>
<span class="ansi-green-fg ansi-bold">   1278</span>         """
<span class="ansi-green-fg">-&gt; 1279</span><span class="ansi-red-fg">         </span>super<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>__init__<span class="ansi-blue-fg">(</span>tz<span class="ansi-blue-fg">=</span>tz<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1280</span>         self<span class="ansi-blue-fg">.</span>_freq <span class="ansi-blue-fg">=</span> YEARLY
<span class="ansi-green-fg ansi-bold">   1281</span>         self._freqs = [YEARLY, MONTHLY, DAILY, HOURLY, MINUTELY,

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/dates.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, tz)</span>
<span class="ansi-green-fg ansi-bold">   1076</span>             Ticks timezone<span class="ansi-blue-fg">.</span> If a string<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">*</span>tz<span class="ansi-blue-fg">*</span> <span class="ansi-green-fg">is</span> passed to<span class="ansi-red-fg"> </span><span class="ansi-red-fg">`</span>dateutil<span class="ansi-blue-fg">.</span>tz<span class="ansi-red-fg">`</span><span class="ansi-blue-fg">.</span>
<span class="ansi-green-fg ansi-bold">   1077</span>         """
<span class="ansi-green-fg">-&gt; 1078</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>tz <span class="ansi-blue-fg">=</span> _get_tzinfo<span class="ansi-blue-fg">(</span>tz<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1079</span> 
<span class="ansi-green-fg ansi-bold">   1080</span>     <span class="ansi-green-fg">def</span> set_tzinfo<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> tz<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.12/dist-packages/matplotlib/dates.py</span> in <span class="ansi-cyan-fg">_get_tzinfo</span><span class="ansi-blue-fg">(tz)</span>
<span class="ansi-green-fg ansi-bold">    222</span>     <span class="ansi-green-fg">if</span> isinstance<span class="ansi-blue-fg">(</span>tz<span class="ansi-blue-fg">,</span> datetime<span class="ansi-blue-fg">.</span>tzinfo<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg ansi-bold">    223</span>         <span class="ansi-green-fg">return</span> tz
<span class="ansi-green-fg">--&gt; 224</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">raise</span> TypeError<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">f"tz must be string or tzinfo subclass, not {tz!r}."</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">    225</span> 
<span class="ansi-green-fg ansi-bold">    226</span> 

<span class="ansi-red-fg">TypeError</span>: tz must be string or tzinfo subclass, not &lt;matplotlib.category.UnitData object at 0x7c7a72140170&gt;.</pre>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="starter_bikes_files/figure-html/cell-10-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Reasoning</strong>: The previous code failed because <code>sns.barplot</code> likely coerced the ‘date’ column into a categorical type for the x-axis, which then caused a <code>TypeError</code> when <code>ax2.plot</code> tried to interpret the same ‘date’ column as a datetime object for plotting lines. To fix this, I will use <code>ax1.bar</code> instead of <code>sns.barplot</code> to plot the total riders, using the numerical representation of dates for the x-axis. This ensures that the x-axis is treated as a continuous datetime scale, allowing the line plots on <code>ax2</code> to render correctly without conflicts.</p>
<div id="cell-16" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:806}}" data-outputid="6debba7b-20f6-4945-fb6c-a1d740b70d74" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.dates <span class="im">as</span> mdates</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure 'date' column is in datetime format for proper plotting</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>daily_bike_data[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(daily_bike_data[<span class="st">'date'</span>])</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and a set of subplots</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>fig, ax1 <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert dates to numerical format for plotting with plt.bar and plt.plot</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># This ensures a continuous date axis consistent across both axes</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>dates_numeric <span class="op">=</span> mdates.date2num(daily_bike_data[<span class="st">'date'</span>])</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot total_riders as a bar chart on ax1 using numerical dates</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to set the width of the bars appropriately for daily data</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>bar_width <span class="op">=</span> <span class="fl">0.8</span> <span class="co"># Adjust as needed</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>ax1.bar(dates_numeric, daily_bike_data[<span class="st">'total_riders'</span>], width<span class="op">=</span>bar_width, color<span class="op">=</span><span class="st">'#cccccc'</span>, label<span class="op">=</span><span class="st">'Total Riders'</span>, align<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a second y-axis that shares the same x-axis as ax1</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> ax1.twinx()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot casual riders as a green line on ax2 using numerical dates</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>ax2.plot(dates_numeric, daily_bike_data[<span class="st">'casual'</span>], color<span class="op">=</span><span class="st">'green'</span>, label<span class="op">=</span><span class="st">'Casual Riders'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot registered riders as a blue line on ax2 using numerical dates</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.plot(dates_numeric, daily_bike_data['registered'], color='blue', label='Registered Riders', linewidth=2)</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the title of the chart</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Daily Bike Usage: Total, Casual, and Registered Riders'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Set x-axis label for ax1</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'Date'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Set y-axis label for ax1</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">'Total Riders'</span>, color<span class="op">=</span><span class="st">'#555555'</span>, fontsize<span class="op">=</span><span class="dv">12</span>) <span class="co"># Adjusted color for visibility</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>ax1.tick_params(axis<span class="op">=</span><span class="st">'y'</span>, labelcolor<span class="op">=</span><span class="st">'#555555'</span>)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Set y-axis label for ax2</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'Number of Casual/Registered Riders'</span>, color<span class="op">=</span><span class="st">'black'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Format the x-axis to display dates properly</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>ax1.xaxis.set_major_formatter(mdates.DateFormatter(<span class="st">'%Y-%m-</span><span class="sc">%d</span><span class="st">'</span>))</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>ax1.xaxis.set_major_locator(mdates.AutoDateLocator())</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine legends from both axes</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>handles1, labels1 <span class="op">=</span> ax1.get_legend_handles_labels()</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>handles2, labels2 <span class="op">=</span> ax2.get_legend_handles_labels()</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>ax2.legend(handles1 <span class="op">+</span> handles2, labels1 <span class="op">+</span> labels2, loc<span class="op">=</span><span class="st">'upper left'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate x-axis labels if they overlap to improve readability</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>fig.autofmt_xdate()</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Add grid for better readability</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>ax1.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="starter_bikes_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="final-task" class="level2">
<h2 class="anchored" data-anchor-id="final-task">Final Task</h2>
<section id="subtask-2" class="level3">
<h3 class="anchored" data-anchor-id="subtask-2">Subtask:</h3>
<p>Summarize the insights observed from the combined bar and line chart, highlighting trends in casual, registered, and total bike usage over time.</p>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary:</h2>
<section id="qa" class="level3">
<h3 class="anchored" data-anchor-id="qa">Q&amp;A</h3>
<p>The combined bar and line chart reveals distinct trends in casual, registered, and total bike usage over time. Registered users consistently form the majority of riders and show a much higher usage volume compared to casual users. Both casual and registered riders exhibit a clear seasonal pattern, with usage generally lower in colder months (e.g., early 2011) and significantly higher during warmer periods. Total ridership, driven primarily by registered users, mirrors this seasonal trend.</p>
</section>
<section id="data-analysis-key-findings" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis-key-findings">Data Analysis Key Findings</h3>
<ul>
<li>A <code>total_riders</code> column was successfully added to the <code>daily_bike_data</code> DataFrame by summing ‘casual’ and ‘registered’ users. For example, on 2011-01-01, there were 330 casual and 629 registered riders, totaling 959 riders.</li>
<li>The generated chart clearly illustrates that <code>registered</code> riders (<code>blue line</code>) significantly outnumber <code>casual</code> riders (<code>green line</code>) throughout the observed period.</li>
<li>Both <code>casual</code> and <code>registered</code> rider numbers, and consequently <code>total_riders</code> (<code>grey bars</code>), demonstrate a strong seasonal pattern, with usage peaking during warmer months and declining during colder periods.</li>
<li>The <code>total_riders</code> bar height closely follows the <code>registered</code> riders line, indicating that registered users are the primary drivers of overall daily bike usage.</li>
</ul>
</section>
<section id="insights-or-next-steps" class="level3">
<h3 class="anchored" data-anchor-id="insights-or-next-steps">Insights or Next Steps</h3>
<ul>
<li><strong>Targeted Marketing Opportunities:</strong> Given the dominance of registered users, efforts could be focused on retaining and expanding this group through loyalty programs or incentives. For casual users, understanding what barriers prevent them from registering could unlock growth.</li>
<li><strong>Seasonal Operational Adjustments:</strong> The clear seasonal trend suggests that resource allocation (e.g., bike availability, maintenance, staffing) could be optimized to match demand fluctuations, with higher capacity planned for peak seasons and reduced operations during off-peak times.</li>
</ul>
</section>
</section>
</section>
<section id="task-1" class="level1">
<h1>Task</h1>
<p>Prepare the <code>bike</code> DataFrame for hourly analysis by converting the ‘dteday’ column to datetime objects (if not already done), extracting the ‘day_of_week’ from ‘dteday’, and then aggregating ‘casual’ and ‘registered’ bike usage by ‘day_of_week’ and ‘hr’ to summarize total usage for each hour of each day.</p>
<section id="prepare-data-for-hourly-analysis" class="level2">
<h2 class="anchored" data-anchor-id="prepare-data-for-hourly-analysis">Prepare Data for Hourly Analysis</h2>
<section id="subtask-3" class="level3">
<h3 class="anchored" data-anchor-id="subtask-3">Subtask:</h3>
<p>Convert the ‘dteday’ column in the <code>bike</code> DataFrame to datetime objects, then extract the ‘day_of_week’ to enable hourly and daily analysis.</p>
<p><strong>Reasoning</strong>: First, I’ll convert the ‘dteday’ column to datetime objects to ensure consistency and then extract the ‘day_of_week’ to a new column as instructed. Finally, I will display the head of the DataFrame to verify the changes.</p>
<div id="cell-22" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="bdea8848-0294-4544-c8b2-d43ba0f50efe" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'dteday'</span>] <span class="op">=</span> pd.to_datetime(bike[<span class="st">'dteday'</span>])</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">'day_of_week'</span>] <span class="op">=</span> bike[<span class="st">'dteday'</span>].dt.day_name()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bike.head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      dteday   hr  casual  registered  temp_c  feels_like_c     hum  \
0 2011-01-01  0.0       3          13     3.0           3.0  0.7957   
1 2011-01-01  1.0       8          30     1.7           1.7  0.8272   
2 2011-01-01  2.0       5          26     1.9           1.9  0.8157   
3 2011-01-01  3.0       3           9     2.5           2.5  0.7831   
4 2011-01-01  4.0       0           1     2.0           2.0  0.8075   

   windspeed  weathersit  season  holiday  workingday        date day_of_week  
0        0.8           1       1        0           0  2011-01-01    Saturday  
1        0.8           1       1        0           0  2011-01-01    Saturday  
2        1.1           1       1        0           0  2011-01-01    Saturday  
3        0.8           1       1        0           0  2011-01-01    Saturday  
4        1.1           1       1        0           0  2011-01-01    Saturday  </code></pre>
</div>
</div>
</section>
</section>
<section id="aggregate-hourly-bike-usage" class="level2">
<h2 class="anchored" data-anchor-id="aggregate-hourly-bike-usage">Aggregate Hourly Bike Usage</h2>
<section id="subtask-4" class="level3">
<h3 class="anchored" data-anchor-id="subtask-4">Subtask:</h3>
<p>Group the <code>bike</code> DataFrame by ‘day_of_week’ and ‘hr’, and then sum the ‘casual’ and ‘registered’ columns to get the total usage for each hour of each day of the week.</p>
<p><strong>Reasoning</strong>: To complete the subtask, I will group the <code>bike</code> DataFrame by ‘day_of_week’ and ‘hr’, calculate the sum of ‘casual’ and ‘registered’ riders, reset the index, and store the result in <code>hourly_bike_usage</code>.</p>
<div id="cell-25" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="ced9fbe7-7fce-4bf0-8ad9-0ca29ac61b59" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>hourly_bike_usage <span class="op">=</span> bike.groupby([<span class="st">'day_of_week'</span>, <span class="st">'hr'</span>]).agg(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    casual<span class="op">=</span>(<span class="st">'casual'</span>, <span class="st">'sum'</span>),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    registered<span class="op">=</span>(<span class="st">'registered'</span>, <span class="st">'sum'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>).reset_index()</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(hourly_bike_usage.head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  day_of_week   hr  casual  registered
0      Friday  0.0   13673       34099
1      Friday  1.0    7443       16459
2      Friday  2.0    4240        8396
3      Friday  3.0    1993        4040
4      Friday  4.0    1891        6254</code></pre>
</div>
</div>
</section>
</section>
<section id="generate-hourly-bike-usage-line-charts" class="level2">
<h2 class="anchored" data-anchor-id="generate-hourly-bike-usage-line-charts">Generate Hourly Bike Usage Line Charts</h2>
<section id="subtask-5" class="level3">
<h3 class="anchored" data-anchor-id="subtask-5">Subtask:</h3>
<p>Create line charts showing casual and registered bike usage across hours, faceted by each day of the week, with different colored lines for casual and registered users. Ensure proper labeling for axes and a title for the chart.</p>
<p><strong>Reasoning</strong>: To create line charts showing casual and registered bike usage faceted by day of the week, I need to first prepare the data by melting the <code>hourly_bike_usage</code> DataFrame into a long format suitable for <code>seaborn.relplot</code>. Then, I will generate the plot with the specified parameters.</p>
<div id="cell-28" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:692}}" data-outputid="08cc9b32-1de8-4d0f-c9e8-70644e31decd" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the order of days for consistent plotting</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>day_order <span class="op">=</span> [<span class="st">'Monday'</span>, <span class="st">'Tuesday'</span>, <span class="st">'Wednesday'</span>, <span class="st">'Thursday'</span>, <span class="st">'Friday'</span>, <span class="st">'Saturday'</span>, <span class="st">'Sunday'</span>]</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'hr' to int type to remove '.0'</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>hourly_bike_usage[<span class="st">'hr'</span>] <span class="op">=</span> hourly_bike_usage[<span class="st">'hr'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the DataFrame to long format for plotting casual and registered as separate lines</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>hourly_bike_usage_melted <span class="op">=</span> hourly_bike_usage.melt(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'day_of_week'</span>, <span class="st">'hr'</span>],</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'casual'</span>, <span class="st">'registered'</span>],</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'user_type'</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'total_riders'</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the relplot</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.relplot(</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>hourly_bike_usage_melted,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'hr'</span>,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'total_riders'</span>,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">'line'</span>,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    col<span class="op">=</span><span class="st">'day_of_week'</span>,</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    col_order<span class="op">=</span>day_order,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">'user_type'</span>,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    col_wrap<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="fl">3.5</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    aspect<span class="op">=</span><span class="fl">1.2</span>,</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span>{<span class="st">'casual'</span>: <span class="st">'green'</span>, <span class="st">'registered'</span>: <span class="st">'blue'</span>}</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Set descriptive titles and labels</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>g.fig.suptitle(<span class="st">'Hourly Bike Usage by Day of Week'</span>, y<span class="op">=</span><span class="fl">1.02</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>g.set_axis_labels(<span class="st">'Hour of Day'</span>, <span class="st">'Number of Riders'</span>)</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust x-axis ticks to show all hours clearly</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> g.axes.flat:</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    ax.set_xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">24</span>, <span class="dv">2</span>)) <span class="co"># Show every other hour</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    ax.tick_params(axis<span class="op">=</span><span class="st">'x'</span>, rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    ax.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Improve layout</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="starter_bikes_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="summarize-hourly-bike-usage-trends" class="level2">
<h2 class="anchored" data-anchor-id="summarize-hourly-bike-usage-trends">Summarize Hourly Bike Usage Trends</h2>
<section id="subtask-6" class="level3">
<h3 class="anchored" data-anchor-id="subtask-6">Subtask:</h3>
<p>Analyze and summarize the observed trends in casual and registered bike usage across different hours of the day and days of the week from the generated line charts.</p>
</section>
</section>
<section id="summary-1" class="level2">
<h2 class="anchored" data-anchor-id="summary-1">Summary:</h2>
<section id="qa-1" class="level3">
<h3 class="anchored" data-anchor-id="qa-1">Q&amp;A</h3>
<p>The analysis revealed distinct hourly bike usage trends for both casual and registered users across different days of the week. Registered users predominantly exhibit commuting patterns with morning and evening peaks on weekdays, while casual users show leisure-oriented usage with a broader midday to afternoon peak, particularly strong on weekends.</p>
</section>
<section id="data-analysis-key-findings-1" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis-key-findings-1">Data Analysis Key Findings</h3>
<ul>
<li>The <code>bike</code> DataFrame was successfully prepared by converting the <code>dteday</code> column to datetime objects and extracting the <code>day_of_week</code> to facilitate hourly and daily usage analysis.</li>
<li>Hourly bike usage was aggregated by summing <code>casual</code> and <code>registered</code> riders for each hour of each day, creating a comprehensive <code>hourly_bike_usage</code> dataset. For example, on a Friday at hour 0, there were 13673 casual riders and 34099 registered riders.</li>
<li>The generated line charts revealed that <strong>registered users</strong> typically display a bimodal usage pattern on weekdays, with prominent peaks during morning (e.g., 7-9 AM) and evening (e.g., 5-7 PM) commuting hours. On weekends, their usage is generally lower and shows a single, broader peak, often in the afternoon.</li>
<li><strong>Casual users</strong> exhibit a more leisure-oriented unimodal pattern, with usage peaking broadly from midday to afternoon (e.g., 10 AM - 4 PM) on both weekdays and weekends. Their overall usage tends to be higher or more comparable to registered users during peak weekend leisure hours.</li>
<li>Overall, bike usage for both casual and registered riders is significantly lower during early morning hours (e.g., 1 AM - 5 AM) across all days of the week.</li>
</ul>
</section>
<section id="insights-or-next-steps-1" class="level3">
<h3 class="anchored" data-anchor-id="insights-or-next-steps-1">Insights or Next Steps</h3>
<ul>
<li>The observed distinct usage patterns between casual and registered riders and across weekdays/weekends can inform demand-side management strategies, such as dynamic pricing or promotional campaigns tailored to specific user types and times.</li>
<li>Further analysis could explore the impact of weather conditions, holidays, or special events on these hourly and daily usage trends to provide a more complete picture of demand drivers.</li>
</ul>


</section>
</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jacob-walker12\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Jacob_Walker 2025©</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jacob-m-walker/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>